  
                                 POVMOD
                    Virtual Memory Utility for POV-Ray 2.10
------------------------------------------------------------------------------
                     

This file contains a utility program for the POV-Ray IBM-PC protected mode
executable compiled with Intel's "Code Builder Kit" 32 bit "C" compiler. It
is not of any use for exectuables compiled with any other compiler.

It's purpose is to expand (or reduce) the amount of virtual memory available 
to POV-Ray during it's operation. 

***************************** NOTE *******************************************
                         
If you get a message about running out of memory (allocation failure....,
memory exhausted......, insufficient memory.... etc) you should use this
utility. It's *un-needed* until your image models become complex enough to 
to require more than the 3072K of virtual memory that POV-Ray uses as it's
distribution default.

******************************************************************************

The "region size" consists of the physical RAM *PLUS* the amount of disk 
space allocated to a swapfile for POV-Ray. The unmodified POV-Ray will 
render approx. a 15,000 triangle file. (Supports 3072K of memory. In a 
machine with less than 4 megs of RAM the VMM may be used to raise it to
that amount. In a machine with *more* than 3072K of RAM it will go ahead and
use it, if available, when run "stand alone". I.E. when not running under a 
DPMI host such as Windows, OS/2 2.x or QEMM w/ QDPMI installed.) 

To expand the amount of virtual memory available, more Hard Disk space
must be allocated to POV-Ray. POVMOD will list the amount of physical RAM 
available in the machine PLUS the free space on the hard disk. Any or all of 
this can be allocated for POV-Ray's use during a trace. (Note: These amounts
may not reflect the actual amount installed in the machine when running under
a DPMI Host. They are the amounts reported by the host and must be configured
in the setup of the host. For instance the amount of XMS and DPMI memory is 
set under the DOS SETTINGS for an OS/2 2.x DOS session.)

Use of POVMOD.  
--------------
Place POVMOD in the same directory as POVRAY.EXE. From the command
line type:

POVMOD POVRAY.EXE  <enter>

The program will run and present a list of the current parameters that 
POV-Ray operates under. The number in the upper right corner of the table
(The one labeled "Region Size:") is the amount of memory (Both virtual 
and physical combined AT THAT TIME.) that POV-Ray can use. I.E. The current
setting. 

Press (M)odify to change the parameters. 

Press (E)nter to alter the region size. You can then manually enter 
the amount of memory you would like to have available for the program 
to use. Generally a value of 6M to 10M will cover all but the most 
complex images.

The (A)ccept key will configure the region size for the largest possible 
swap file size.
(NOTE: (A)ccept is not the best choice in most cases. If there is
       a large amount of free space on your HD it could result in a
       *very* large swap file.)


The (C)reate option will create a -permanent- swap file.

*** Remember you need enough free disk space to write out your image ***
*** file as it is created though!!!                                  ***

The POV-Ray executable file will then be modified to reflect your choices. 
Since much of this "memory" is usually a swap file on your hard disk you 
will get *much* better performance with a recently de-fragmented disk. 
The program will NOT allow you to allocate a larger region size than can 
be created AT THAT TIME. I.E. if you have 6 Megs of combined RAM/Hard Disk 
space avail. you cannot make the region size any larger than that. Also if 
the region size is set to a particular amount and your hard disk is later 
filled to the point that the free disk space is not large enough for the 
required swap file to be created, the program will *NOT* run. It will error 
with an insufficient memory message. You will need to modify the region 
size to accommodate the smaller amount of disk space available. 

An environment variable is used to "point" to the location of the swap
file. The DEFAULT swap file is C:\XMSWAP.TMP. To set it to another 
location the following must be added to your AUTOEXEC.BAT file:

SET SWAP=d:\[subdir]\XMSWAP.TMP 

Where d: is the drive and [subdir] is the subdirectory you wish to use
for the swapfile. You will need to reboot the machine for this parameter
to take effect.

(Note: The test triangle files referred to were generated with FRGEN 1.1.)



--------------------------------
        OS/2 2.x Note
--------------------------------

When running POV-Ray under OS/2 2.x you need to set the DPMI_MEMORY_LIMIT
value under the DOS SETTINGS for the session to a value GREATER than or
EQUAL to the Region Size you set in the POVRAY executable with this program. 

See IBMPCEXE.DOC for further information.



 
Bill Pulver

CIS     : 70405,1152                 <---- Most often used.
InterNET: 70405.1152@compuserve.com
AOL     : BPulver

Less often used:
Delphi :  BILLP
Prodigy:  NCCJ93A
Genie  :  B.Pulver
              
9/26/93
