<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Media</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_1185"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_217.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_219.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh2">
<h2>6.8&nbsp;&nbsp;Media</h2>

<a name="target_1186"></a>

  <p>The <code>media</code> statement is used to specify particulate matter
  suspended in a medium such air or water. It can be used to specify smoke,
  haze, fog, gas, fire, dust etc. Previous versions of POV-Ray had two
  incompatible systems for generating such effects. One was <code>halo</code>
  for effects enclosed in a transparent or semi-transparent object. The other
  was <code>atmosphere</code> for effects that permeated the entire scene. This
  duplication of systems was complex and unnecessary. Both <code> halo</code>
  and <code>atmosphere</code> have been eliminated. See
  &quot;<a href="povdoc_197.html#target_983">Why are Interior and Media Necessary?</a>&quot;
  for further details on this change. See &quot;<a href="povdoc_204.html#target_999">Object Media</a>&quot;
  for details on how to use <code>media</code> with objects.
  See &quot;<a href="povdoc_223.html#target_1210">Atmospheric Media</a>&quot;
  for details on using <code>media</code> for atmospheric effects outside of 
  objects. This section and the sub-sections which follow explains the 
  details of the various <code> media</code> options which are useful for 
  either object media or atmospheric media.</p><p>
   Media works by sampling the density of particles at some specified number of
  points along the ray's path. Sub-samples are also taken until the results
  reach a specified confidence level. POV-Ray provides three methods of sampling.
  When used in an object's <code> interior</code> statement, sampling only 
  occurs inside the object. When used for atmospheric media, the samples run from 
  the camera location until the ray strikes an object. Therefore for localized 
  effects, it is best to use an enclosing object even though the density pattern 
  might only produce results in a small area whether the media was enclosed or not.</p><p>
   The complete syntax for a <code>media</code> statement is as follows:</p>
<pre>
MEDIA:
    media { [MEDIA_IDENTIFIER] [MEDIA_ITEMS...] }
MEDIA_ITEMS:
    method Number | intervals Number | samples Min, Max |
    confidence Value  | variance Value | ratio Value |
    absorption COLOR | emission COLOR | aa_threshold Value |
    aa_level Value | 
    scattering { 
       Type, COLOR [ eccentricity Value ] [ extinction Value ]
    }  | 
    density { 
       [DENSITY_IDENTIFIER] [PATTERN_TYPE] [DENSITY_MODIFIER...]
    }   | 
    TRANSFORMATIONS
DENSITY_MODIFIER:
    PATTERN_MODIFIER | DENSITY_LIST | COLOR_LIST |
    color_map { COLOR_MAP_BODY } | colour_map { COLOR_MAP_BODY } |
    density_map { DENSITY_MAP_BODY }
</pre>

<p>
Media default values:
<a name="target_1187"></a>
<pre>
aa_level     : 4
aa_threshold : 0.1
absorption   : &lt;0,0,0&gt;
confidence   : 0.9
emission     : &lt;0,0,0&gt;
intervals    : 10
method       : 3
ratio        : 0.9
samples      : Min 1, Max 1
variance     : 1/128
SCATTERING
  COLOR        : &lt;0,0,0&gt;
  eccentricity : 0.0
  extinction   : 1.0
</pre>
</p>

  <p>If a media identifier is specified, it must be the first item. All other
  media items may be specified in any order. All are optional. You may have
  multiple <code>density</code> statements in a single <code>media</code>
  statement. See &quot;<a href="povdoc_221.html#target_1208">Multiple Density vs. Multiple Media</a>&quot;
  for details. Transformations apply only the <code>density</code> statements which have
  been already specified. Any <code>density</code> after a transformation is
  not affected. If the <code>media</code> has no <code>density</code>
  statements and none was specified in any media identifier, then the
  transformation has no effect. All other media items except for <code>
  density</code> and transformations override default values or any previously
  set values for this <code>media</code> statement.</p>
  <p class="Note"><strong>Note:</strong> some media effects depend upon light sources. However the
  participation of a light source depends upon the <code>media_interaction</code>
  and <code>media_attenuation</code> keywords. See &quot;<a href="povdoc_193.html#target_961">Atmospheric Media Interaction</a>&quot;
  and &quot;<a href="povdoc_193.html#target_964">Atmospheric Attenuation</a>&quot; for details.</p>

<p class="Note"><strong>Note:</strong> In the POV-Ray 3.1 documentation it said: 
  <BLOCKQUOTE>&quot;Note a strange design side-effect was discovered during testing and it was
  too difficult to fix. If the enclosing object uses <code><a href="povdoc_160.html#target_614">transmit</a></code>
  rather than <code><a href="povdoc_160.html#target_613">filter</a></code> for transparency, then the <code>media</code>
  casts no shadows.&quot;</BLOCKQUOTE>
  This is not the case anymore in POV-Ray 3.5. Wether you specify <code>transmit</code> or <code>filter</code>
  to create a transparent container object, the <code>media</code> will always cast a shadow. If a shadow
  is not desired, use the <code>no_shadow</code> keyword for the container object.
</p>





</div>

<p>
<table width=5% align="center" border=0 bgcolor="#000000" cellpadding=1 cellspacing=0 class="InSectionTable">
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#e6f4ff">
<tr><td align=center colspan=2 bgcolor="#ffcc99" nowrap class="InSectionHeader">
<i>In 'Media' ...</i>
</td></tr>
<tr><td nowrap class="InSectionSecNo">6.8.1&nbsp;&nbsp;</td><td nowrap class="InSectionSecName"><a href="povdoc_219.html#target_1188">Media Types</a></td></tr>
<tr><td nowrap class="InSectionSecNo">6.8.2&nbsp;&nbsp;</td><td nowrap class="InSectionSecName"><a href="povdoc_220.html#target_1194">Sampling Parameters &amp; Methods</a></td></tr>
<tr><td nowrap class="InSectionSecNo">6.8.3&nbsp;&nbsp;</td><td nowrap class="InSectionSecName"><a href="povdoc_221.html#target_1202">Density</a></td></tr>
</table>
</td></tr>
</table>
<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_217.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_219.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
