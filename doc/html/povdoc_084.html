<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Superquadric Ellipsoid Object</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_148"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_083.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_085.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>3.6.5&nbsp;&nbsp;Superquadric Ellipsoid Object</h3>

  <p>Sometimes we want to make an object that does not have perfectly sharp
  edges like a box does. Then, the superquadric ellipsoid shape made by the
  <code>superellipsoid</code> is a useful object. It is described by the simple
  syntax:</p>
<pre>
  superellipsoid { &lt;Value_E, Value_N &gt;}
</pre>

  <p>Where <em>Value_E</em> and <em>Value_N</em> are float values greater than
  zero and less than or equal to one. Let's make a superellipsoid and
  experiment with the values of <em>Value_E</em> and <em>Value_N</em> to see
  what kind of shapes we can make. We create a file called <code>
  supellps.pov</code> and edit it as follows:</p>
<pre>
  #include &quot;colors.inc&quot;
  camera {
    location &lt;10, 5, -20&gt;
    look_at 0
    angle 15
  }
  background { color rgb &lt;.5, .5, .5&gt; }
  light_source { &lt;10, 50, -100&gt; White }
</pre>

  <p>The addition of a gray background makes it a little easier to see our
  object. We now type:</p>
<pre>
  superellipsoid { &lt;.25, .25&gt;
    pigment { Red }
  }
</pre>

  <p>We save the file and trace it at 200x150 <code>-A</code> to see the shape.
  It will look like a box, but the edges will be rounded off. Now let's
  experiment with different values of <em>Value_E</em> and <em> Value_N</em>.
  For the next trace, try &lt;1, 0.2&gt;. The shape now looks like a cylinder,
  but the top edges are rounded. Now try &lt;0.1, 1&gt;. This shape is an odd
  one! We don't know exactly what to call it, but it is interesting.
  Finally, let's try &lt;1, 1&gt;. Well, this is more familiar... a sphere!</p><p>
   There are a couple of facts about superellipsoids we should know. First, we
  should not use a value of 0 for either <em> Value_E</em> nor <em>
  Value_N</em>. This will cause POV-Ray to incorrectly make a black box instead
  of our desired shape. Second, very small values of <em>Value_E</em> and <em>
  Value_N</em> may yield strange results so they should be avoided. Finally,
  the Sturmian root solver will not work with superellipsoids.</p><p>
   Superellipsoids are finite objects so they respond to auto-bounding and can
  be used in CSG.</p><p>
   Now let's use the superellipsoid to make something that would be useful
  in a scene. We will make a tiled floor and place a couple of superellipsoid
  objects hovering over it. We can start with the file we have already
  made.</p><p>
   We rename it to <code> tiles.pov</code> and edit it so that it reads as
  follows:</p>
<pre>
  #include &quot;colors.inc&quot;
  #include &quot;textures.inc&quot;
  camera {
    location &lt;10, 5, -20&gt;
    look_at 0
    angle 15
  }
  background { color rgb &lt;.5, .5, .5&gt; }
  light_source{ &lt;10, 50, -100&gt; White }
</pre>

  <p class="Note"><strong>Note:</strong> we have added <code>#include &quot;textures.inc&quot;</code> so
  we can use pre-defined textures. Now we want to define the superellipsoid
  which will be our tile.</p>
<pre>
  #declare Tile = superellipsoid { &lt;0.5, 0.1&gt;
    scale &lt;1, .05, 1&gt;
  }
</pre>

  <p>Superellipsoids are roughly 2*2*2 units unless we scale them otherwise. If
  we wish to lay a bunch of our tiles side by side, they will have to be offset
  from each other so they don't overlap. We should select an offset value
  that is slightly more than 2 so that we have some space between the tiles to
  fill with grout. So we now add this:</p>
<pre>
  #declare Offset = 2.1;
</pre>

  <p>We now want to lay down a row of tiles. Each tile will be offset from the
  original by an ever-increasing amount in both the +z and -z directions. We
  refer to our offset and multiply by the tile's rank to determine the
  position of each tile in the row. We also union these tiles into a single
  object called <code>Row</code> like this:</p>
<pre>
  #declare Row = union {
    object { Tile }
    object { Tile translate z*Offset }
    object { Tile translate z*Offset*2 }
    object { Tile translate z*Offset*3 }
    object { Tile translate z*Offset*4 }
    object { Tile translate z*Offset*5 }
    object { Tile translate z*Offset*6 }
    object { Tile translate z*Offset*7 }
    object { Tile translate z*Offset*8 }
    object { Tile translate z*Offset*9 }
    object { Tile translate z*Offset*10 }
    object { Tile translate -z*Offset }
    object { Tile translate -z*Offset*2 }
    object { Tile translate -z*Offset*3 }
    object { Tile translate -z*Offset*4 }
    object { Tile translate -z*Offset*5 }
    object { Tile translate -z*Offset*6 }
  }
</pre>

  <p>This gives us a single row of 17 tiles, more than enough to fill the
  screen. Now we must make copies of the <code>Row</code> and translate them,
  again by the offset value, in both the +x and -x directions in ever
  increasing amounts in the same manner.</p>
<pre>
  object { Row }
  object { Row translate x*Offset }
  object { Row translate x*Offset*2 }
  object { Row translate x*Offset*3 }
  object { Row translate x*Offset*4 }
  object { Row translate x*Offset*5 }
  object { Row translate x*Offset*6 }
  object { Row translate x*Offset*7 }
  object { Row translate -x*Offset }
  object { Row translate -x*Offset*2 }
  object { Row translate -x*Offset*3 }
  object { Row translate -x*Offset*4 }
  object { Row translate -x*Offset*5 }
  object { Row translate -x*Offset*6 }
  object { Row translate -x*Offset*7 }
</pre>

  <p>Finally, our tiles are complete. But we need a texture for them. To do
  this we union all of the <code>Rows</code> together and apply a <code>White
  Marble</code> pigment and a somewhat shiny reflective surface to it:</p>
<pre>
  union{
    object { Row }
    object { Row translate x*Offset }
    object { Row translate x*Offset*2 }
    object { Row translate x*Offset*3 }
    object { Row translate x*Offset*4 }
    object { Row translate x*Offset*5 }
    object { Row translate x*Offset*6 }
    object { Row translate x*Offset*7 }
    object { Row translate -x*Offset }
    object { Row translate -x*Offset*2 }
    object { Row translate -x*Offset*3 }
    object { Row translate -x*Offset*4 }
    object { Row translate -x*Offset*5 }
    object { Row translate -x*Offset*6 }
    object { Row translate -x*Offset*7 }
    pigment { White_Marble }
    finish { phong 1 phong_size 50 reflection .35 }
  }
</pre>

  <p>We now need to add the grout. This can simply be a white plane. We have
  stepped up the ambient here a little so it looks whiter.</p>
<pre>
  plane {
    y, 0  //this is the grout
    pigment { color White }
    finish { ambient .4 diffuse .7 }
  }
</pre>

  <p>To complete our scene, let's add five different superellipsoids, each
  a different color, so that they hover over our tiles and are reflected in
  them.</p>
<pre>
  superellipsoid {
    &lt;0.1, 1&gt;
    pigment { Red }
    translate &lt;5, 3, 0&gt;
    scale .45
  }
  superellipsoid {
    &lt;1, 0.25&gt;
    pigment { Blue }
    translate &lt;-5, 3, 0&gt;
    scale .45
  }
  superellipsoid {
    &lt;0.2, 0.6&gt;
    pigment { Green }
    translate &lt;0, 3, 5&gt;
    scale .45
  }
  superellipsoid {
    &lt;0.25, 0.25&gt;
    pigment { Yellow }
    translate &lt;0, 3, -5&gt;
    scale .45
  }
  superellipsoid {
    &lt;1, 1&gt;
    pigment { Pink }
    translate y*3
    scale .45
  }
</pre>

  
<center><img src="images/superell.gif" alt="Some superellipsoids hovering above a tiled floor"><br><font size=-1><cite>Some superellipsoids hovering above a tiled floor</cite></font></center>


  <p>We trace the scene at 320x200 <code>-A</code> to see the result. If we are
  happy with that, we do a final trace at 640x480 <code>+A0.2</code>.</p>

</div>
</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_083.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_085.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
