<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Focal Blur</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_739"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_182.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_184.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>6.4.3&nbsp;&nbsp;Focal Blur</h3>

<a name="target_740"></a>

  <p>POV-Ray can simulate focal depth-of-field by shooting a number of sample
  rays from jittered points within each pixel and averaging the results.</p><p>
  To turn on focal blur, you must specify the <code>aperture</code> keyword
  followed by a float value which determines the depth of the sharpness zone.
  Large apertures give a lot of blurring, while narrow apertures will give a
  wide zone of sharpness.</p>
  <p class="Note"><strong>Note:</strong> while this behaves as a real camera does,
  the values for aperture are purely arbitrary and are not related to <em>f</em>-stops.</p><p>
  You must also specify the <code>blur_samples</code> keyword followed by an
  integer value specifying the maximum number of rays to use for each pixel.
  More rays give a smoother appearance but is slower. By default no focal blur
  is used, i. e. the default aperture is 0 and the default number of samples is
  0.</p>

<a name="target_741"></a>

  <p>The center of the <em>zone of sharpness</em> is specified by the <code>
  focal_point</code> vector. Objects close to this point are in focus and those
  farther from that point are more blurred. The default value is <code>
  focal_point&lt;0,0,0&gt;</code>.</p>

<a name="target_742"></a>

  <p>Although <code>blur_samples</code> specifies the maximum number of samples,
  there is an adaptive mechanism that stops shooting rays when a certain degree
  of confidence has been reached. At that point, shooting more rays would not
  result in a significant change.</p>

<a name="target_743"></a>

<a name="target_744"></a>

<a name="target_745"></a>
<a name="target_746"></a>
<p>The <code>confidence</code> and <code>
  variance</code> keywords are followed by float values to control the adaptive
  function. The <code>confidence</code> value is used to determine when the
  samples seem to be <em>close enough</em> to the correct color. The <code>
  variance</code> value specifies an acceptable tolerance on the variance of
  the samples taken so far. In other words, the process of shooting sample rays
  is terminated when the estimated color value is very likely (as controlled by
  the confidence probability) near the real color value.</p><p>
   Since the <code>confidence</code> is a probability its values can range from
  0 to &lt;1 (the default is 0.9, i. e. 90%). The value for the <code>
  variance</code> should be in the range of the smallest displayable color
  difference (the default is 1/128). If 1 is used POV-Ray will issue a warning
  and then use the default instead.</p>

<p>Rendering with the default settings can result in quite grainy images. This can
  be improved by using a lower <code>variance</code>. A value of 1/10000 gives a
  fairly good result (with default confidence and blur_samples set to something
  like 100) without being unacceptably slow.</p><p>

   Larger <code>confidence</code> values will lead to more samples, slower
  traces and better images. The same holds for smaller <code>variance</code>
  thresholds.</p>

</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_182.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_184.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
