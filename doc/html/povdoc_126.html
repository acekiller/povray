<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Radiosity with conventional lighting</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_259"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_125.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_127.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>4.1.2&nbsp;&nbsp;Radiosity with conventional lighting</h3>
<a name="target_260"></a>

  <p>The pictures here introduce combined conventional/radiosity lighting.
  Later on you can also find examples for pure radiosity illumination.</p>

  <p>The following settings are default, the result will be the same with
  an empty radiosity block:</p>

<pre>
  global_settings {
    radiosity {
      pretrace_start 0.08
      pretrace_end   0.04
      count 35

      nearest_count 5
      error_bound 1.8
      recursion_limit 3

      low_error_factor 0.5
      gray_threshold 0.0
      minimum_reuse 0.015
      brightness 1

      adc_bailout 0.01/2
    }
  }
</pre>

      <p>The following pictures are rendered with default settings and are made to
      introduce the sample scene.</p>

      <p>All objects except the sky have an ambient finish of 0.</p>

      <p>The <code>ambient 1</code> finish of the blue sky makes it functioning as some kind
      of diffuse light source.
      This leads to a bluish touch of the whole scene in the radiosity version.</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_01.jpg" alt="no radiosity"><br><font size=-1><cite>no radiosity</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_03.jpg" alt="radiosity (default settings)"><br><font size=-1><cite>radiosity (default settings)</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_03a.jpg" alt="difference w/o radiosity"><br><font size=-1><cite>difference w/o radiosity</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>You can see that radiosity much affects the shadowed parts when
      applied combined with conventional lighting.</p>

      <p>Changing <code>brightness</code> changes the intensity of radiosity effects.
      <code>brightness 0</code> would be the same as without radiosity.
      <code>brightness 1</code> should work correctly in most cases, if effects are
      too strong you can reduce this.  Larger values lead to quite strange results
      in most cases.</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_04.jpg" alt="brightness 0.5"><br><font size=-1><cite>brightness 0.5</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_03.jpg" alt="brightness 1.0"><br><font size=-1><cite>brightness 1.0</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_05.jpg" alt="brightness 2.0"><br><font size=-1><cite>brightness 2.0</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>Changing the <code>recursion_limit</code> value leads to the following results,
      second line are difference to default (<code>recursion_limit 3</code>):</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_06.jpg" alt="recursion_limit 1"><br><font size=-1><cite>recursion_limit 1</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_07.jpg" alt="recursion_limit 2"><br><font size=-1><cite>recursion_limit 2</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_08.jpg" alt="recursion_limit 5"><br><font size=-1><cite>recursion_limit 5</cite></font></center>

          </td>
        </tr>
        <tr>
          <td>
  
<center><img src="images/radA_06a.jpg" alt="recursion_limit 1 (difference)"><br><font size=-1><cite>recursion_limit 1 (difference)</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_07a.jpg" alt="recursion_limit 2 (difference)"><br><font size=-1><cite>recursion_limit 2 (difference)</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_08a.jpg" alt="recursion_limit 5 (difference)"><br><font size=-1><cite>recursion_limit 5 (difference)</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>You can see that higher values than the default of 3 do not lead to much better
      results in such a quite simple scene.  In most cases values of 1 or 2 are sufficient.</p>

      <p>The <code>error_bound</code> value mainly affects the structures of the shadows.
      Values larger than the default of 1.8 do not have much effects, they make the shadows
      even flatter.  Extremely low values can lead to very good results, but the rendering time
      can become very long.  For the following samples <code>recursion_limit 1</code> is used.</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_09.jpg" alt="error_bound 0.01"><br><font size=-1><cite>error_bound 0.01</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_10.jpg" alt="error_bound 0.5"><br><font size=-1><cite>error_bound 0.5</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_11.jpg" alt="error_bound 1.0"><br><font size=-1><cite>error_bound 1.0</cite></font></center>

          </td>
        </tr>
        <tr>
          <td>
  
<center><img src="images/radA_09a.jpg" alt="error_bound 0.01 (difference)"><br><font size=-1><cite>error_bound 0.01 (difference)</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_10a.jpg" alt="error_bound 0.5 (difference)"><br><font size=-1><cite>error_bound 0.5 (difference)</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_11a.jpg" alt="error_bound 1.0 (difference)"><br><font size=-1><cite>error_bound 1.0 (difference)</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>Somewhat related to <code>error_bound</code> is <code>low_error_factor</code>.  It
      reduces error_bound during the last pretrace step.  Changing this can be useful to
      eliminate artefacts.</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_12.jpg" alt="low_error_factor 0.01"><br><font size=-1><cite>low_error_factor 0.01</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_13.jpg" alt="low_error_factor 0.5"><br><font size=-1><cite>low_error_factor 0.5</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_14.jpg" alt="low_error_factor 1.0"><br><font size=-1><cite>low_error_factor 1.0</cite></font></center>

          </td>
        </tr>
        <tr>
          <td>
  
<center><img src="images/radA_12a.jpg" alt="low_error_factor 0.01 (difference)"><br><font size=-1><cite>low_error_factor 0.01 (difference)</cite></font></center>

          </td>
          <td>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
          <td>
  
<center><img src="images/radA_14a.jpg" alt="low_error_factor 1.0 (difference)"><br><font size=-1><cite>low_error_factor 1.0 (difference)</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>The next samples use <code>recursion_limit 1</code> and
      <code>error_bound 0.2</code>.  These 3 pictures illustrate the effect of
      <code>count</code>.  It is a general quality and accuracy parameter
      leading to higher quality and slower rendering at higher values.</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_15.jpg" alt="count 2"><br><font size=-1><cite>count 2</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_13a.jpg" alt="count 35 (default)"><br><font size=-1><cite>count 35 (default)</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_16.jpg" alt="count 300"><br><font size=-1><cite>count 300</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>Another parameter that affects quality is <code>nearest_count</code>. You
      can use values from 1 to 20, default is 5:</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_17.jpg" alt="nearest_count 1"><br><font size=-1><cite>nearest_count 1</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_13a.jpg" alt="nearest_count 5"><br><font size=-1><cite>nearest_count 5</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_18.jpg" alt="nearest_count 10"><br><font size=-1><cite>nearest_count 10</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>Again higher values lead to less artefacts and smoother appearance but
      slower rendering.</p>

      <p><code>minimum_reuse</code> influences whether previous radiosity samples
      are reused during calculation. It also affects quality and smoothness.  </p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_19.jpg" alt="minimum_reuse 0.2"><br><font size=-1><cite>minimum_reuse 0.2</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_13a.jpg" alt="minimum_reuse 0.015"><br><font size=-1><cite>minimum_reuse 0.015</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_20.jpg" alt="minimum_reuse 0.005"><br><font size=-1><cite>minimum_reuse 0.005</cite></font></center>

          </td>
        </tr>
        <tr>
          <td>
  
<center><img src="images/radA_19a.jpg" alt="minimum_reuse 0.2 (difference)"><br><font size=-1><cite>minimum_reuse 0.2 (difference)</cite></font></center>

          </td>
          <td>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
          <td>
  
<center><img src="images/radA_20a.jpg" alt="minimum_reuse 0.005 (difference)"><br><font size=-1><cite>minimum_reuse 0.005 (difference)</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>Another important value is <code>pretrace_end</code>.  It specifies how many pretrace
      steps are calculated and thereby strongly influences the speed.  Usually lower values lead to
      better quality, but it's important to keep this in good relation to
      <code>error_bound</code>.</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_21.jpg" alt="pretrace_end 0.2"><br><font size=-1><cite>pretrace_end 0.2</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_13a.jpg" alt="pretrace_end 0.04"><br><font size=-1><cite>pretrace_end 0.04</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_22.jpg" alt="pretrace_end 0.002"><br><font size=-1><cite>pretrace_end 0.002</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>Strongly related to <code>pretrace_end</code> is <code>always_sample</code>.
      Normally even in the final trace additional radiosity samples are taken.  You can
      avoid this by adding <code>always_sample off</code>.  That's especially useful if you load
      previously calculated radiosity data with <code>load_file</code>.</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_13a.jpg" alt="always_sample on"><br><font size=-1><cite>always_sample on</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_23.jpg" alt="always_sample off"><br><font size=-1><cite>always_sample off</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_23a.jpg" alt="always_sample off (difference)"><br><font size=-1><cite>always_sample off (difference)</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>The effect of <code>max_sample</code> is similar to <code>brightness</code>.
      It does not reduce the radiosity effect in general but weakens samples with
      brightness above the specified value.</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_24.jpg" alt="max_sample 0.5"><br><font size=-1><cite>max_sample 0.5</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_25.jpg" alt="max_sample 0.8"><br><font size=-1><cite>max_sample 0.8</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_13a.jpg" alt="default"><br><font size=-1><cite>default</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>You can strongly affect things with the objects'
      <a href="povdoc_208.html#target_1035">finishes</a>.  In fact that is the most
      important thing about radiosity.  Normal objects should have ambient finish 0 which is not
      default in POV-Ray and therefore needs to be specified.  Objects with ambient &gt; 0
      actually emit light.</p>
      <p>Default finish values used until now are <code>diffuse 0.65 ambient 0</code>.</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_29.jpg" alt="diffuse 0.65 ambient 0.2"><br><font size=-1><cite>diffuse 0.65 ambient 0.2</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_30.jpg" alt="diffuse 0.4 ambient 0"><br><font size=-1><cite>diffuse 0.4 ambient 0</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_31.jpg" alt="diffuse 1.0 ambient 0"><br><font size=-1><cite>diffuse 1.0 ambient 0</cite></font></center>

          </td>
        </tr>
      </table>
      </center>

      <p>Finally you can vary the sky in outdoor radiosity scenes.
      In all these examples it is implemented with a sphere object.
      <code>finish { ambient 1 diffuse 0 }</code>
      was used until now.  The following pictures show some variations:</p>

      <center>
      <table border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td>
  
<center><img src="images/radA_27.jpg" alt="ambient 0 diffuse 1"><br><font size=-1><cite>ambient 0 diffuse 1</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_26.jpg" alt="ambient 0 diffuse 0 (no sky)"><br><font size=-1><cite>ambient 0 diffuse 0 (no sky)</cite></font></center>

          </td>
          <td>
  
<center><img src="images/radA_28.jpg" alt="yellow-blue gradient"><br><font size=-1><cite>yellow-blue gradient</cite></font></center>

          </td>
        </tr>
      </table>
      </center>


</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_125.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_127.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
