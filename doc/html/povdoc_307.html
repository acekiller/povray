<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>transforms.inc</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_1585"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_306.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_308.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh2">
<h2>7.19&nbsp;&nbsp;transforms.inc</h2>
<p>Several useful transformation macros. All these macros produce transformations, you can
 use them anywhere you can use scale, rotate, etc. The descriptions will assume you are working
 with an object, but the macros will work fine for textures, etc.</p>

<a name="target_1586"></a>

<p><code>Shear_Trans(A, B, C)</code>. This macro reorients and deforms an object so its original XYZ axes point along A, B, and C, resulting in a shearing effect when the vectors are not perpendicular. You can also use vectors of different lengths to affect scaling, or use perpendicular vectors to reorient the object.<br>
		Parameters:
		<ul>
			<li><code>A, B, C</code> = Vectors representing the new XYZ axes for the transformation.</li>
		</ul>
</p>

<a name="target_1587"></a>

<p><code>Matrix_Trans(A, B, C, D)</code>. This macro provides a way to specify a matrix transform with 4 vectors. The effects are very similar to that of the Shear_Trans() macro, but the fourth parameter controls translation.<br>
		Parameters:
		<ul>
			<li><code>A, B, C, D</code> = Vectors for each row of the resulting matrix.</li>
		</ul>
</p>

<a name="target_1588"></a>

<p><code>Axial_Scale_Trans(Axis, Amt)</code>. A kind of directional scale, this macro will &quot;stretch&quot; an object along a specified axis.<br>
		Parameters:
		<ul>
		 <li><code>Axis</code> = A vector indicating the direction to stretch along.</li>
		 <li>Amt = The amount to stretch.</li>
		</ul>
</p>

<a name="target_1589"></a>

<p><code>Axis_Rotate_Trans(Axis, Angle)</code>. This is equivalent to the transformation
 done by the vaxis_rotate() function, it rotates around an arbitrary axis.<br>
		Parameters:
		<ul>
		 <li><code>Axis</code> = A vector representing the axis to rotate around.</li>
		 <li><code>Angle</code> = The amount to rotate by.</li>
		</ul>
</p>

<a name="target_1590"></a>

<p><code>Rotate_Around_Trans(Rotation, Point)</code>. Ordinary rotation operates around the origin,
 this macro rotates around a specific point.<br>
		Parameters:
		<ul>
		 <li><code>Rotation</code> = The rotation vector, the same as the parameter to the rotate keyword.</li>
		 <li><code>Point</code> = The point to rotate around.</li>
		</ul>
</p>

<a name="target_1591"></a>

<p><code>Reorient_Trans(Axis1, Axis2)</code>. This aligns <code>Axis1</code> to <code>Axis2</code> by rotating the object
 around a vector perpendicular to both axis1 and axis2.
<br>Parameters:
		<ul>
		 <li><code>Axis1</code> = Vector to be rotated.</li>
         <li><code>Axis2</code> = Vectors to be rotated towards.</li>
		</ul>
</p>

<a name="target_1592"></a>

<p><code>Point_At_Trans(YAxis)</code>. This macro is similar to Reorient_Trans(), but it points 
the y axis along Axis.<br>
		Parameters:
		<ul>
		 <li><code>YAxis</code> = The direction to point the y axis in.</li>
		</ul>
</p>

<a name="target_1593"></a>

<p><code>Center_Trans(Object, Axis)</code>. Calculates a transformation which will center an 
object along a specified axis. You indicate the axes you want to center along by adding &quot;x&quot;, 
&quot;y&quot;, and &quot;z&quot; together in the Axis parameter.</p>
<p class="Note"><strong>Note:</strong> this macro actually computes the 
 transform to center the bounding box of the object, which may not be entirely accurate. 
 There is no way to define the &quot;center&quot; of an arbitrary object.</p>
 <p>Parameters:
 <ul>
	<li><code>Object</code> = The object the center transform is being computed for.</li>
	<li><code>Axis</code> = The axes to center the object on.</li>
 </ul>

 Usage:
 <pre>
object {MyObj Center_Trans(MyObj, x)} //center along x axis
 </pre>
  You can also center along multiple axes:
 <pre>
object {MyObj Center_Trans(MyObj, x+y)} //center along x and y axis
 </pre>
</p>

<a name="target_1594"></a>

<p><code>Align_Trans(Object, Axis, Pt)</code>. Calculates a transformation which will align
 the sides of the bounding box of an object to a point. Negative values on Axis will align
 to the sides facing the negative ends of the coordinate system, positive values will align
 to the opposite sides, 0 means not to do any alignment on that axis.<br>
 Parameters:
 <ul>
	<li><code>Object</code> = The object being aligned.</li>
	<li><code>Axis</code> = A combination of +x, +y, +z, -x, -y, and -z, or a vector where each 
	component is -1, 0, or +1 specifying the faces of the bounding box to align to the point.</li>
	<li><code>Point</code> = The point to which to align the bounding box of the object.</li>
 </ul>
 Usage:
 <pre>
  object {
     MyObj 
     Align_Trans(MyObj, x, Pt) //Align right side of object to be
                               //coplanar with Pt
     Align_Trans(MyObj,-y, Pt) //Align bottom of object to be
                               // coplanar with Pt
  } 
 </pre>
</p>

<a name="target_1595"></a>

<p><code>vtransform(Vect, Trans)</code> and <code>vinv_transform(Vect, Trans)</code>.<br>
The <code>vtransform()</code> macro takes a transformation (rotate, scale, tranlate, etc...)
 and a point, and returns the result of applying the transformation to the point. 
The <code>vinv_transform()</code> macro is similar, but applies the inverse of the
 transform, in effect &quot;undoing&quot; the transformation. You can combine transformations 
by enclosing them in a transform  block.<br>
		Parameters:
		<ul>
			<li><code>Vect</code> = The vector to which to apply the transformation.</li>
			<li><code>Trans</code> = The transformation to apply to Vect.</li>
		</ul>
</p>

<a name="target_1596"></a>

<p><code>Spline_Trans(Spline, Time, SkyVector, ForeSight, Banking)</code>. This macro aligns
an object to a spline for a given time value. The Z axis of the object will
point in the forward direction of the spline and the Y axis of the object
will point upwards.<br>
Parameters:
<ul>
<li><code>Spline</code> = The spline that the object is aligned to.</li>
<li><code>Time</code> = The time value to feed to the spline, for example clock.</li>
<li><code>Sky</code> = The vector that is upwards in your scene, usually y.</li>
<li><code>Foresight</code> = A positive value that controls how much in advance the object
                             will turn and bank. Values close to 0 will give precise results, while
                             higher values give smoother results. It will not affect parsing speed, so
                             just find the value that looks best.</li>
<li><code>Banking</code> = How much the object tilts when turning. The amount
           of tilting is equally much controlled by the ForeSight value.</li>
</ul>
Usage:
<pre>
   object {MyObj Spline_Trans(MySpline, clock, y, 0.1, 0.5)}
</pre>
</p>


</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_306.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_308.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
