<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Other things to note</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_1699"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_376.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_378.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>9.7.8&nbsp;&nbsp;Other things to note</h3>

<p>There's no reason why the index value in your simple for-loop should step
one unit at a time. Since the while-loop doesn't care how the index changes,
you can change it in whichever way you want. Eg:

<pre>
#declare Index = Index - 1;  Decrements the index (be careful with the while
                             loop condition)

#declare Index = Index + 0.2;  Increases by steps of 0.2

#declare Index = Index * 2;  Doubles the value of the index at each step.

etc.
</pre>



</p><p>- Be careful <b>where</b> you put your while-loop.

</p><p>I have seen this kind of mistake more than once:

<pre>
#declare Index = 1;
#while(Index &lt;= 10)
   blob
   {  threshold 0.6
      sphere { &lt;Index, 0, 0&gt;, 2, 1 }
   }
   #declare Index = Index + 1;
#end
</pre>

</p><p>You'll probably see immediately the problem.

</p><p>This code creates 10 blobs with one component each. It doesn't seem to
make much sense. Most probably the user wanted to make one blob with 10
components.

</p><p>Why did this mistake happen? It may be that the user (more or less
subconsciously) thought that the while-loop must be the outermost control
structure and do not realize that while-loops can be anywhere, also inside
objects (creating subcomponents or whatever).

</p><p>The correct code is, of course:

<pre>
blob
{  threshold 0.6

   #declare Index = 1;
   #while(Index &lt;= 10)

      sphere { &lt;Index, 0, 0&gt;, 2, 1 }

      #declare Index = Index + 1;
   #end
}
</pre>

</p><p>The essential difference here is that it's only the sphere code which is
run 10 times instead of the whole blob code. The net result is the same as
if we had written the sphere code 10 times with proper values of 'Index'.

</p><p>Be also careful with the placement of the braces. If you put them in
the wrong place you can end up accidentally repeating an opening or a closing
brace 10 times. Again, a proper indentation usually helps a lot with this
(as seen in the above example).


</p><p>- Tip: You can use while-loops in conjunction with arrays to automatize
the creation of long lists of elements with differing data.

</p><p>Imagine that you are making something like this:

<pre>
  color_map
  {  [0.00 rgb &lt;.1,1,.6&gt;]
     [0.05 rgb &lt;.8,.3,.6&gt;]
     [0.10 rgb &lt;.3,.7,.9&gt;]
     [0.15 rgb &lt;1,.7,.3&gt;]
     ...
     and so on
</pre>

</p><p>It's tedious to have to write the same things over and over just changing
the index value and the values in the vector (even if you use copy-paste to
copy the lines).

</p><p>There's also one very big problem here: If you ever want to add a new
color to the color map or remove a color, you would have to renumber all
the indices again, which can be extremely tedious and frustrating.

</p><p>Wouldn't it be nice to automatize the creation of the color map so that
you only have to write the vectors and that's it?

</p><p>Well, you can. Using a while-loop which reads an array of vectors:

<pre>
#declare MyColors = array[20]
   {  &lt;.1,1,.6&gt;, &lt;.8,.3,.6&gt;, &lt;.3,.7,.9&gt;,
      &lt;1,.7,.3&gt;, ...
   }

...

   color_map
   {  #declare LastIndex = dimension_size(MyColors, 1)-1;
      #declare Index = 0;
      #while(Index &lt;= LastIndex)

         [Index/LastIndex rgb MyColors[Index]]

         #declare Index = Index + 1;
      #end
   }
</pre>

</p><p>Now it's easy to add, remove or modify colors in your color map. Just
edit the vector array (remembering to change its size number accordingly)
and the while-loop will automatically calculate the
right values and create the color map for yourself.
</p>






</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_376.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_378.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
