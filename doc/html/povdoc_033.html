<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Photons, Dispersion and Improved Radiosity</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_64"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_032.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_034.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>2.6.2&nbsp;&nbsp;Photons, Dispersion and Improved Radiosity</h3>

  <b>Photons</b>
  <p>The basic goal of the <a href="povdoc_228.html#target_1233">photon map</a> is to render true reflective and refractive caustics. 
  The photon map was first introduced by Henrik Wann Jensen
  (see <a href="povdoc_330.html#target_1627">Suggested Reading</a>).</p>

  <p>Photon mapping is a technique which uses a backwards ray-tracing pre-processing step 
  to render refractive and reflective caustics realistically. This means that mirrors can
  reflect light rays and lenses can focus light. Photons can also interact with media, to 
  show the path the light travels.</p>
  <p> A code example:</p>
<pre>
 global_settings {
   photons {
     count 20000
     autostop 0
     jitter .4
   }
 }

 light_source {
   MyLight
   photons {
     refraction on
     reflection on
   }
 }

 object {
   MyObject
   photons {
     target
     refraction on
     reflection on
     collect off
   }
 }
</pre>

  <b>Dispersion</b>
  <p>Since the refractive index of a material changes as a function of the lights wavelength,
   light passing through a material will be separated according to wavelength. This is known as
   chromatic <a href="povdoc_201.html#target_988">dispersion</a>. It creates a prismatic color effect inside the object.</p>
   <p>As POV-Ray does not use wavelengths for rendering, the effect is simulated. Dispersion can
    also be used in combination with photons (to recreate that famous record sleeve)</p>

  <b>Improved Radiosity</b>
  <p>Many things have changed in <a href="povdoc_245.html#target_1283">radiosity</a>, compared to POV-Ray 3.1. A short overview:</p>
  <ul>
   <li>
   The brightness of radiosity in POV-Ray 3.5 is based on: The amount of light &quot;gathered&quot; 
   and the <code>diffuse</code> property of the surface finish.</li>
   <li>
   Use <code>nearest_count</code> to specify the minimum number of old values blended together. 
   The total number blended will vary depending on <code>error_bound</code>. </li>
   <li>
   Distance_maximum is automatically computed</li>
   <li>
   Radiosity works with any sized rooms, also &quot;outdoors&quot;. </li>
   <li>
   Radiosity <code>recursion_limit</code> is not limited to 2. You can specify any 
   <code>recursion_limit</code> up to 20.</li>
   <li>
   You can specify an <code>adc_bailout</code> for radiosity rays.</li>
   <li>
   Radiosity estimation can be affected by surface normal, add <code>normal on</code> 
   to the <code>radiosity</code> block within <code>global_settings</code>.</li>
   <li>
   Radiosity estimation can be affected by media, add <code>media on</code> to the
   <code>radiosity</code> block within <code>global_settings</code>.</li>
   <li>
   You can save the radiosity data using <code>save_file</code> &quot;file_name&quot; and load the same data
   later using <code>load_file</code> &quot;file_name&quot;.</li>
   <li>
   Instead of using the INI options &quot;Preview_Start_Size&quot; and &quot;Preview_End_Size&quot; to control 
   the radiosity pre-trace gathering step, use the keywords <code>pretrace_start</code> 
   and <code>pretrace_end</code> within the <code>radiosity</code> block inside <code>global_settings</code>.</li>
   <li>
   Radiosity is enabled only when the <code>radiosity</code> block exists in POV file.</li>
   <li>
   Added <code>max_sample</code>. It takes a float parameter which specifies the brightest that
   any gathered sample is allowed to be.</li>
  </ul>
  <p>Radiosity is still an experimental feature. We cannot guarantee that scenes using these 
  features in this version will render identically in future releases or that full backwards 
  compatibility of language syntax can be maintained.</p> 


</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_032.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_034.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
