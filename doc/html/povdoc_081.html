<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Height Field Object</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_135"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_080.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_082.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>3.6.2&nbsp;&nbsp;Height Field Object</h3>

  <p>A <code>height_field</code> is an object that has a surface that is
  determined by the color value or palette index number of an image designed
  for that purpose. With height fields, realistic mountains and other types of
  terrain can easily be made. First, we need an image from which to create the
  height field. It just so happens that POV-Ray is ideal for creating such an
  image.</p><p>
   We make a new file called <code>image.pov</code> and edit it to contain the
  following:</p>
<pre>
  #include &quot;colors.inc&quot;
  global_settings {
    assumed_gamma 2.2
    hf_gray_16
  }
</pre>

  <p>The <code><a href="povdoc_238.html#target_1275">hf_gray_16</a></code> keyword causes the output to be in a special
  16 bit grayscale that is perfect for generating height fields. The normal 8
  bit output will lead to less smooth surfaces.</p><p>
   Now we create a camera positioned so that it points directly down the z-axis
  at the origin.</p>
<pre>
  camera {
    location &lt;0, 0, -10&gt;
    look_at 0
  }
</pre>

  <p>We then create a plane positioned like a wall at z=0. This plane will
  completely fill the screen. It will be colored with white and gray
  wrinkles.</p>
<pre>
  plane { z, 10
    pigment {
      wrinkles
      color_map {
       [0 0.3*White]
       [1 White]
      }
    }
  }
</pre>

  <p>Finally, create a light source.</p>
<pre>
  light_source { &lt;0, 20, -100&gt; color White }
</pre>

  <p>We render this scene at 640x480 <code>+A0.1</code> <code>+FT</code>.
  We will get an image that will produce an excellent height field. We create a
  new file called <code>hfdemo.pov</code> and edit it as follows:</p>
  <p class="Note"><strong>Note:</strong> Windows users, unless you specify <code>+FT</code> as above,
  you will get a .BMP file (which is the default Windows version output).
  In this case you will need to use <code>sys</code> instead of
  <code>tga</code> in the <code>height_field</code> statement below.
<pre>
  #include &quot;colors.inc&quot;
</pre>

  <p>We add a camera that is two units above the origin and ten units back
  ...</p>
<pre>
  camera{
    location &lt;0, 2, -10&gt;
    look_at 0
    angle 30
  }
</pre>

  <p>... and a light source.</p>
<pre>
  light_source{ &lt;1000,1000,-1000&gt; White }
</pre>

  <p>Now we add the height field. In the following syntax, a Targa image file
  is specified, the height field is smoothed, it is given a simple white
  pigment, it is translated to center it around the origin and it is scaled so
  that it resembles mountains and fills the screen.</p>
<pre>
  height_field {
    tga &quot;image.tga&quot;
    smooth
    pigment { White }
    translate &lt;-.5, -.5, -.5&gt;
    scale &lt;17, 1.75, 17&gt;
  }
</pre>

  <p>We save the file and render it at 320x240 <code>-A</code>. Later, when we
  are satisfied that the height field is the way we want it, we render it at a
  higher resolution with anti-aliasing.</p>

  
<center><img src="images/pvhfield.gif" alt="A height field created completely with POV-Ray"><br><font size=-1><cite>A height field created completely with POV-Ray</cite></font></center>


  <p>Wow! The Himalayas have come to our computer screen!</p>

</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_080.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_082.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
