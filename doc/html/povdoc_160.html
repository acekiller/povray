<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Specifying Colors</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_611"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_159.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_161.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>6.1.5&nbsp;&nbsp;Specifying Colors</h3>
<pre>
COLOR:
    COLOR_BODY             |
    color COLOR_BODY       | <em>(this means the keyword color or</em>
    colour COLOR_BODY        <em> colour may optionally precede</em>
                             <em> any color specification)</em>
COLOR_BODY:
    COLOR_VECTOR           |
    COLOR_KEYWORD_GROUP    |
    COLOR_IDENTIFIER
COLOR_VECTOR:
    rgb &lt;3_Term_Vector&gt;  |
    rgbf &lt;4_Term_Vector&gt; |
    rgbt &lt;4_Term_Vector&gt; |
    [ rgbft ] &lt;5_Term_Vector&gt;
COLOR_KEYWORD_GROUP:
    [ COLOR_KEYWORD_ITEM ]...
COLOR_KEYWORD_ITEM:
    COLOR_IDENTIFIER       |
    red Red_Amount         |
    blue Blue_Amount       |
    green Green_Amount     |
    filter Filter_Amount   |
    transmit Transmit_Amount
</pre>

  <p class="Note"><strong>Note:</strong> <em>COLOR_IDENTIFIERS</em> are identifiers previously declared to
  have color values. The 3, 4, and 5 term vectors are usually vector literals
  but may be vector expressions or floats promoted to vectors. See
  &quot;Operator Promotion&quot; and the sections below.</p>


<a name="target_612"></a>

<a name="target_613"></a>

<a name="target_614"></a>

  <p>POV-Ray often requires you to specify a color. Colors consist of five
  values or color components. The first three are called <code>red</code>,
  <code>green</code>, and <code>blue</code>. They specify the intensity of the
  primary colors red, green and blue using an additive color system like the
  one used by the red, green and blue color phosphors on a color monitor.</p><p>
   The 4th component, called <code>filter</code>, specifies the amount of
  filtered transparency of a substance. Some real-world examples of filtered
  transparency are stained glass windows or tinted cellophane. The light
  passing through such objects is tinted by the appropriate color as the
  material selectively absorbs some frequencies of light while allowing others
  to pass through. The color of the object is subtracted from the light passing
  through so this is called subtractive transparency.</p>

<p>The 5th component, called <code>transmit</code>, specifies the amount of
  non-filtered light that is transmitted through a surface. Some real-world
  examples of non-filtered transparency are thin see-through cloth, fine mesh
  netting and dust on a surface. In these examples, all frequencies of light
  are allowed to pass through tiny holes in the surface. Although the amount of
  light passing through is diminished, the color of the light passing through
  is unchanged. </p>

<p>The color of the object and the color transmitted through the object
together contribute 100% of the final color. So if <code>transmit</code> is set to 0.9,
the transmitted color contributes 90% and the color of the object
contributes only 10%. This is also true outside of the 0-1 range, so for
example if <code>transmit</code> is set to 1.7, the transmitted color contributes with
170% and the color of the object contributes with minus 70%. Using <code>transmit</code>
values outside of the 0-1 range can be used to create interesting special
effects, but does not correspond to any phenomena seen in the real world.
An example:</p>

<pre>
#version 3.5;
global_settings {assumed_gamma 1.0}
camera {location -2.5*z look_at 0 orthographic}
box {
   0,1
   texture {
      pigment {
         gradient y
         colour_map {
            [0, red 1]
            [1, blue 1]
         }
      }
      finish{ambient 1}
   }
   texture {
      pigment {
         gradient x
         colour_map {
            [0, rgb 0.5 transmit -3]
            [1, rgb 0.5 transmit  3]
         }
      }
      finish{ambient 1}
   }
   translate &lt;-0.5,-0.5,0&gt;
   scale &lt;3,2,1&gt;
}
</pre>

<p>When using the <code>transmit</code> value for special effects, you can visualize it this way:
The <code>transmit</code> value means &quot;contrast&quot;. 1.0 is no change in contrast, 0.5 is
half contrast, 2.0 is double contrast and so on. You could say that
<code>transmit</code> &quot;scales&quot; the colors. The color of the object is the &quot;center value&quot;.
All colors will get closer to the &quot;center value&quot; if <code>transmit</code> is between 0
and 1, and all colors will spread away from the &quot;center value&quot; if <code>transmit</code>
is greater than 1. If <code>transmit</code> is negative the colors will be inverted
around the &quot;center value&quot;. Rgb 0.5 is common to use as &quot;center value&quot;, but
other values can be used for other effects. The &quot;center value&quot; really is a
color, and non-gray colors can be used for interesting effects. The red,
green and blue components are handled seperately.</p>

<p class="Note"><strong>Note:</strong> early versions of POV-Ray used the
  keyword <code>alpha</code> to
  specify filtered transparency. However that word is often used to describe
  non-filtered transparency. For this reason <code>alpha</code> is no longer
  used.</p>
  <p>
   Each of the five components of a color are float values which are normally
  in the range between 0.0 and 1.0. However any values, even negatives may be
  used.</p><p>
   Under most circumstances the keyword <code>color</code> is optional and may
  be omitted. We also support the British or Canadian spelling <code>
  colour</code>. Colors may be specified using vectors, keywords with floats or
  identifiers. You may also create very complex color expressions from
  combinations of any of these using various familiar operators. The syntax for
  specifying a color has evolved since POV-Ray was first released. We have
  maintained the original keyword-based syntax and added a short-cut vector
  notation. Either the old or new syntax is acceptable however the vector
  syntax is easier to use when creating color expressions.</p><p>
   The syntax for combining color literals into color expressions is almost
  identical to the rules for vector and float expressions. In the syntax for
  vector expressions, some of the syntax items are defined in the section
  for float expressions. See &quot;<a href="povdoc_158.html#target_531">Float Expressions</a>&quot; for those
  definitions. Detailed explanations of color-specific issues are given in the
  following sub-sections.</p>

</div>

<div class="divh4">
<a name="target_615"></a>
<h4>6.1.5.1&nbsp;&nbsp;Color Vectors</h4>

<a name="target_616"></a>

  <p>The syntax for a color vector is...</p>
<pre>
COLOR_VECTOR:
    rgb &lt;3_Term_Vector&gt;   |
    rgbf &lt;4_Term_Vector&gt;  |
    rgbt &lt;4_Term_Vector&gt;  |
    [ rgbft ] &lt;5_Term_Vector&gt;
</pre>

  <p>...where the vectors are any valid vector expressions of 3, 4 or 5
  components. For example</p>
<pre>
 color rgb &lt;1.0, 0.5, 0.2&gt;
</pre>

  <p>This specifies a color whose red component is 1.0 or 100% of full
  intensity. The green component is 0.5 or 50% of full intensity and the blue
  component is 0.2 or 20% of full intensity. Although the filter and transmit
  components are not explicitly specified, they exist and are set to their
  default values of 0 or no transparency.</p><p>

<a name="target_617"></a>

   The <code>rgbf</code> keyword requires a four component vector. The 4th
  component is the filter component and the transmit component defaults to
  zero. Similarly the <code> rgbt</code> keyword requires four components where
  the 4th value is moved to the 5th component which is transmit and then the
  filter component is set to zero.</p><p>
   The <code>rgbft</code> keyword allows you to specify all five components.
  Internally in expressions all five are always used.</p><p>
   Under some circumstances, if the vector expression is a 5 component
  expression or there is a color identifier in the expression then the <code>
  rgbtf</code> keyword is optional.</p>

</div>

<div class="divh4">
<a name="target_618"></a>
<h4>6.1.5.2&nbsp;&nbsp;Color Keywords</h4>

<a name="target_619"></a>

  <p>The older keyword method of specifying a color is still useful and many
  users prefer it.</p>
<pre>
COLOR_KEYWORD_GROUP:
    [ COLOR_KEYWORD_ITEM ]...
COLOR_KEYWORD_ITEM:
    COLOR_IDENTIFIER |
    red Red_Amount | blue Blue_Amount | green Green_Amount | 
    filter Filter_Amount | transmit Transmit_Amount
</pre>

  <p>Although the <code>color</code> keyword at the beginning is optional, it
  is more common to see it in this usage. This is followed by any of five
  additional keywords <code>red</code>, <code>green</code>, <code> blue</code>,
  <code>filter</code>, or <code>transmit</code>. Each of these component
  keywords is followed by a float expression. For example</p>
<pre>
 color red 1.0 green 0.5
</pre>

  <p>This specifies a color whose red component is 1.0 or 100% of full
  intensity and the green component is 0.5 or 50% of full intensity. Although
  the blue, filter and transmit components are not explicitly specified, they
  exist and are set to their default values of 0. The component keywords may be
  given in any order and if any component is unspecified its value defaults to
  zero. A <em>COLOR_IDENTIFIER</em> can also be specified but it should always
  be first in the group. See &quot;<a href="#target_623">Common Color Pitfalls</a>&quot; for details.</p>

</div>

<div class="divh4">
<a name="target_620"></a>
<h4>6.1.5.3&nbsp;&nbsp;Color Identifiers</h4>

  <p>Color identifiers may be declared to make scene files more readable and to
  parameterize scenes so that changing a single declaration changes many
  values. An identifier is declared as follows.</p>
<pre>
COLOR_DECLARATION:
    #declare IDENTIFIER = COLOR; |
    #local IDENTIFIER = COLOR;
</pre>

  <p>Where <em>IDENTIFIER</em> is the name of the identifier up to 40
  characters long and <em>COLOR</em> is any valid specification.</p>
  <p class="Note"><strong>Note:</strong> there should be a semi-colon at the
  end of the declaration. If omitted, it generates a warning and some
  macros may not work properly. See &quot;
  <a href="povdoc_167.html#target_663">#declare vs. #local</a>&quot; for
  information on identifier scope.</p>
  <p>Here are some examples....</p>
<pre>
 #declare White = rgb &lt;1,1,1&gt;;
 #declare Cyan = color blue 1.0 green 1.0;
 #declare Weird = rgb &lt;Foo*2,Bar-1,Bob/3&gt;;
 #declare LightGray = White*0.8;
 #declare LightCyan = Cyan red 0.6;
</pre>

  <p>As the <code>LightGray</code> example shows you do not need any color
  keywords when creating color expressions based on previously declared colors.
  The last example shows you may use a color identifier with the keyword style
  syntax. Make sure that the identifier comes first before any other component
  keywords.</p><p>
   Like floats and vectors, you may re-define colors throughout a scene but the
  need to do so is rare.</p>

</div>

<div class="divh4">
<a name="target_621"></a>
<h4>6.1.5.4&nbsp;&nbsp;Color Operators</h4>
<a name="target_622"></a>

  <p>Color vectors may be combined in expressions the same as float or vector
  values. Operations are performed on a component-by-component basis. For
  example <code>rgb &lt;1.0,0.5,0.2&gt;*0.9</code> evaluates the same as <code>
  rgb&lt;1.0,0.5,0.2&gt;*&lt;0.9,0.9,0.9&gt;</code> or <code>
  rgb&lt;0.9,0.45,0.18&gt;</code>. Other operations are done on a similar
  component-by-component basis.</p><p>
   You may use the dot operator to extract a single component from a color.
  Suppose the identifier <code>Shade</code> was previously defined as a color.
  Then <code>Shade.red</code> is the float value of the red component of <code>
  Shade</code>. Similarly <code> Shade.green</code>, <code>Shade.blue</code>,
  <code>Shade.filter</code> and <code>Shade.transmit</code> extract the float
  value of the other color components. <code>shade.gray</code> returns the gray value of the
  color vector.</p>

</div>

<div class="divh4">
<a name="target_623"></a>
<h4>6.1.5.5&nbsp;&nbsp;Common Color Pitfalls</h4>

  <p>The variety and complexity of color specification methods can lead to some
  common mistakes. Here are some things to consider when specifying a
  color.</p><p>
   When using filter transparency, the colors which come through are multiplied
  by the primary color components. For example if gray light such as <code>
  rgb&lt;0.9,0.9,0.9&gt;</code> passes through a filter such as <code>
  rgbf&lt;1.0,0.5,0.0,1.0&gt;</code> the result is <code>
  rgb&lt;0.9,0.45,0.0&gt;</code> with the red let through 100%, the green cut
  in half from 0.9 to 0.45 and the blue totally blocked. Often users mistakenly
  specify a clear object by</p>
<pre>
 color filter 1.0
</pre>

  <p>but this has implied red, green and blue values of zero. You've just
  specified a totally black filter so no light passes through. The correct way
  is either</p>
<pre>
 color red 1.0  green 1.0  blue 1.0  filter 1.0
</pre>

  <p>or</p>
<pre>
 color transmit 1.0
</pre>

  <p>In the 2nd example it doesn't matter what the rgb values are. All of
  the light passes through untouched. Another pitfall is the use of color
  identifiers and expressions with color keywords. For example...</p>
<pre>
 color My_Color red 0.5
</pre>

  <p>this substitutes whatever was the red component of <code>My_Color</code>
  with a red component of 0.5 however...</p>
<pre>
 color My_Color + red 0.5
</pre>

  <p>adds 0.5 to the red component of <code>My_Color</code> and even less
  obvious...</p>
<pre>
 color My_Color * red 0.5
</pre>

  <p>that cuts the red component in half as you would expect but it also
  multiplies the green, blue, filter and transmit components by zero! The part
  of the expression after the multiply operator evaluates to <code>
  rgbft&lt;0.5,0,0,0,0&gt;</code> as a full 5 component color.</p><p>
   The following example results in no change to <code>My_Color</code>.</p>
<pre>
 color red 0.5 My_Color
</pre>

  <p>This is because the identifier fully overwrites the previous value. When
  using identifiers with color keywords, the identifier should be first.
  Another issue to consider: some POV-Ray syntax allows full color
  specifications but only uses the rgb part. In these cases it is legal to use
  a float where a color is needed. For example:</p>
<pre>
 finish { ambient 1 }
</pre>

  <p>The <a href="povdoc_208.html#target_1036">ambient</a> keyword expects a color so the value <code>1</code> is
  promoted to <code>&lt;1,1,1,1,1&gt;</code> which is no problem. However</p>
<pre>
 pigment { color 0.4 }
</pre>

  <p>is legal but it may or may not be what you intended. The <code> 0.4</code>
  is promoted to <code>&lt;0.4,0.4,0.4,0.4,0.4&gt;</code> with the filter and
  transmit set to 0.4 as well. It is more likely you wanted...</p>
<pre>
 pigment { color rgb 0.4 }
</pre>

  <p>in which case a 3 component vector is expected. Therefore the <code>
  0.4</code> is promoted to <code>&lt;0.4,0.4,0.4,0.0,0.0&gt;</code> with
  default zero for filter and transmit. Finally there is another problem which
  arises when using color dot operators in <code>#declare</code> or <code>
  #local</code> directives. Consider the directive:</p>
<pre>
 #declare MyColor = rgb &lt;0.75, 0.5, 0.75&gt;;
 #declare RedAmt = MyColor.red;
</pre>

  <p>Now <code>RedAmt</code> should be a float but unfortunately it is a color.
  POV-Ray looks at the first keyword after the equals to try to guess what type
  of identifier you want. It sees the color identifier <code> MyColor</code>
  and assumes you want to declare a color. It then computes the float value as
  0.75 then promotes that into <code>
  rgbft&lt;0.75,0.75,0.75,0.75,0.75&gt;</code>. It would take a major rewrite
  to fix this problem so we're just warning you about it. Any of the
  following work-arounds will work properly.</p>
<pre>
 #declare RedAmt = 0.0+MyColor.red;
 #declare RedAmt = 1.0*MyColor.red;
 #declare RedAmt = (MyColor.red);
</pre>

</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_159.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_161.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
