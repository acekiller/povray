<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Spline Identifiers</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_652"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_163.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_165.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>6.1.9&nbsp;&nbsp;Spline Identifiers</h3>
<a name="target_653"></a>

<p>Splines give you a way to define 'pathways' through your scenes. You specify a
series of points, and POV-Ray interpolates to make a curve connecting them. Every
point along the spline has a numerical value. A good example of a spline is the path
of a moving object: the spline itself would be the path traced out by the object and
the 'parameter' would be time; as time changes the object's position moves along the
spline.
<br>Therefore, given a time reference you could use this spline to find the position of the
object. In fact, splines are very well suited to animation.</p>

<p>The syntax is:</p>
<pre>
SPLINE_DECLARATION:
  #declare IDENTIFIER =
    spline {
      [SPLINE_IDENTIFIER] |
      [SPLINE_TYPE] |
      [Val_1, &lt;Point_1&gt;[,]
       Val_2, &lt;Point_2&gt;[,]
       ...
       Val_n, &lt;Point_n&gt;]
    }

SPLINE_TYPE:
  linear_spline | quadratic_spline | cubic_spline | natural_spline

SPLINE_USAGE:
  MySpline(Val) | MySpline(Val, SPLINE_TYPE)
</pre>

<p>The first item gives the type of interpolation.
<br>In a <code>linear_spline</code>, straight lines connect each point.
<br>In a <code>quadratic_spline</code>, a smooth curve defined by a second-order polynomial connects each point.
<a name="target_654"></a>

<br>In <code>cubic_spline</code> and <code>natural_spline</code>, a smooth curve
defined by a third-order polynomial connects each point.
<br>The default is <code>linear_spline</code>.</p>

<p>Following this are a number of float values each followed by a position vector, all
separated by commas. <code>Val_1</code>, <code>Val_2</code>, etc, are the value
of the spline parameter at each specific point. The points need not be in order of their
parameter values.  If two points have the same parameter value, the second point will replace the first.
Beyond the range of the lowest and highest parameter values, the
spline position is fixed at the endpoints.</p>

<p class="Note"><strong>Note:</strong> Because of the way cubic_splines 
are defined: the first and last points are tangents rather than points on
the spline, cubic_spline interpolation is only valid between the second and
next-to-last points.  For all other spline types, interpolation is valid from
the first point to the last point. For t-values outside the valid range,
POV-Ray returns the value of the nearest valid point.</p>

<p>To use a spline, you place the spline identifier followed by the parameter (in
parentheses) wherever you would normally put a vector, similar to a macro.  Splines behave mostly
like three-dimensional vectors.
<br>Here is an example:</p>
<pre>
camera { location &lt;0,2,-2&gt; look_at 0 }
light_source { &lt;-5,30,-10&gt; 1 }
#declare MySpline =
  spline {
    cubic_spline
    -.25, &lt;0,0,-1&gt;
    0.00, &lt;1,0,0&gt;
    0.25, &lt;0,0,1&gt;
    0.50, &lt;-1,0,0&gt;
    0.75, &lt;0,0,-1&gt;
    1.00, &lt;1,0,0&gt;
    1.25, &lt;0,0,1&gt;
  }

#declare ctr = 0;
#while (ctr &lt; 1)
  sphere {
    MySpline(ctr),.25
    pigment { rgb &lt;1-ctr,ctr,0&gt; }
  }
  #declare ctr = ctr + 0.01;
#end
</pre>
</p>
<p>
You can also have POV-Ray evaluate a spline as if it were a different type
of spline by specifying the type of spline after the value to interpolate at,
for example:<br>
<pre>
sphere{ &lt;2,0,2&gt;, .25 pigment{rgb MySpline(clock, linear_spline)}}
</pre>
</p>
<p>
Splines are 'intelligent' when it comes to returning vectors.
The vector with the most components in the spline determines the
size of the returned vector.  This allows vectors from two to five components
to be returned by splines.
</p>
<p>
Also, function splines take the vector size into account.  That is, a function
containing a spline with five components will also return a five component
vector (aka a color), a function containing a spline with two components will
only return a two component vector and so on.
</p>

</div>

<div class="divh4">
<a name="target_655"></a>
<h4>6.1.9.1&nbsp;&nbsp;Splines and Macros</h4>

<p>You can pass functions to macros, how to do this is best explained by an example</p>

<pre>
  #macro Foo( Bar, Val )
    #declare Y = Bar(Val).y;
  #end

  #declare myspline = spline { 
      1, &lt;4,5&gt; 
      3, &lt;5,5&gt; 
      5, &lt;6,5&gt;
  }

  Foo(myspline, 2)

  #debug str(Y,5,5)
  #debug &quot;\n&quot;
</pre>
</div>
</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_163.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_165.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
