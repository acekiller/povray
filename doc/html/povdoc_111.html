<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Using Focal Blur</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_221"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_110.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_112.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>3.10.1&nbsp;&nbsp;Using Focal Blur</h3>

  <p>Let's construct a simple scene to illustrate the use of focal blur.
  For this example we will use a pink sphere, a green box and a blue cylinder
  with the sphere placed in the foreground, the box in the center and the
  cylinder in the background. A checkered floor for perspective and a couple of
  light sources will complete the scene. We create a new file called <code>
  focaldem.pov</code> and enter the following text</p>
<pre>
  #include &quot;colors.inc&quot;
  #include &quot;shapes.inc&quot;
  #include &quot;textures.inc&quot;
  sphere {
    &lt;1, 0, -6&gt;, 0.5
    finish {
      ambient 0.1
      diffuse 0.6
    }
    pigment { NeonPink }
  }
  box {
    &lt;-1, -1, -1&gt;, &lt; 1,  1,  1&gt;
    rotate &lt;0, -20, 0&gt;
    finish {
      ambient 0.1
      diffuse 0.6
    }
    pigment { Green }
  }
  cylinder {
    &lt;-6, 6, 30&gt;, &lt;-6, -1, 30&gt;, 3
    finish {
      ambient 0.1
      diffuse 0.6
    }
    pigment {NeonBlue}
  }
  plane {
    y, -1.0
    pigment {
      checker color Gray65 color Gray30
    }
  }
  light_source { &lt;5, 30, -30&gt; color White }
  light_source { &lt;-5, 30, -30&gt; color White }
</pre>

  <p>Now we can proceed to place our focal blur camera to an appropriate
  viewing position. Straight back from our three objects will yield a nice
  view. Adjusting the focal point will move the point of focus anywhere in the
  scene. We just add the following lines to the file:</p>
<pre>
  camera {
    location &lt;0.0, 1.0, -10.0&gt;
    look_at  &lt;0.0, 1.0,  0.0&gt;
  //  focal_point &lt;-6, 1, 30&gt;    // blue cylinder in focus
  //  focal_point &lt; 0, 1,  0&gt;    // green box in focus
    focal_point &lt; 1, 1, -6&gt;    // pink sphere in focus
    aperture 0.4     // a nice compromise
  //  aperture 0.05    // almost everything is in focus
  //  aperture 1.5     // much blurring
  //  blur_samples 4       // fewer samples, faster to render
    blur_samples 20      // more samples, higher quality image
  }
</pre>

  <p>The focal point is simply the point at which the focus of the camera is at
  its sharpest. We position this point in our scene and assign a value to the
  aperture to adjust how close or how far away we want the focal blur to occur
  from the focused area.</p><p>
   The aperture setting can be considered an <em>area of focus</em>. Opening
  up the aperture has the effect of making the area of focus smaller while
  giving the aperture a smaller value makes the area of focus larger. This is
  how we control where focal blur begins to occur around the focal point.</p><p>
   The blur samples setting determines how many rays are used to sample each
  pixel. Basically, the more rays that are used the higher the quality of the
  resultant image, but consequently the longer it takes to render. Each scene
  is different so we have to experiment. This tutorial has examples of 4 and 20
  samples but we can use more for high resolution images. We should not use
  more samples than is necessary to achieve the desired quality - more samples
  take more time to render. The confidence and variance settings are covered in
  section &quot;<a href="povdoc_183.html#target_739">Focal Blur</a>&quot;.</p><p>
   We experiment with the focal point, aperture, and blur sample settings. The
  scene has lines with other values that we can try by commenting out the
  default line with double slash marks and un-commenting the line we wish to
  try out. We make only one change at a time to see the effect on the
  scene.</p><p>
   Two final points when tracing a scene using a focal blur camera. We
  needn't specify anti-aliasing because the focal blur code uses its own
  sampling method that automatically takes care of anti-aliasing. Focal blur
  can only be used with the perspective camera.</p>


</div>
</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_110.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_112.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
