<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>The Fog</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_228"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_114.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_116.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>3.11.3&nbsp;&nbsp;The Fog</h3>
<a name="target_229"></a>

  <p>You can use the <code><a href="povdoc_225.html#target_1212">fog</a></code> feature to add fog of two different types
  to your scene: constant fog and ground fog. The constant fog has a constant
  density everywhere while the ground fog's density decreases as you move
  upwards.</p><p>
   The usage of both fog types will be described in the next sections in
  detail.</p>

</div>

<div class="divh4">
<a name="target_230"></a>
<h4>3.11.3.1&nbsp;&nbsp;A Constant Fog</h4>

  <p>The simplest fog type is the constant fog that has a constant density in
  all locations. It is specified by a <code>distance</code> keyword which
  actually describes the fog's density and a fog <code><a href="povdoc_160.html#target_612">color</a></code>.</p><p>
   The distance value determines the distance at which 36.8% of the background
  is still visible (for a more detailed explanation of how the fog is
  calculated read the reference section &quot;<a href="povdoc_225.html#target_1212">Fog</a>&quot;).</p><p>
   The fog color can be used to create anything from a pure white to a red,
  blood-colored fog. You can also use a black fog to simulate the effect of a
  limited range of vision.</p><p>
   The following example will show you how to add fog to a simple scene
  (<code>fog1.pov</code>).</p>
<pre>
  #include &quot;colors.inc&quot;
  camera {
    location  &lt;0, 20, -100&gt;
  }
  background { color SkyBlue }
  plane {
    y, -10
    pigment {
      checker color Yellow color Green
      scale 20
    }
  }
  sphere {
    &lt;0, 25, 0&gt;, 40
    pigment { Red }
    finish { phong 1.0 phong_size 20 }
  }
  sphere {
    &lt;-100, 150, 200&gt;,  20
    pigment { Green }
    finish { phong 1.0 phong_size 20 }
  }
  sphere {
    &lt;100, 25, 100&gt;, 30
    pigment { Blue }
    finish { phong 1.0 phong_size 20 }
  }
  light_source { &lt;100, 120, 40&gt; color White }
  fog {
    distance 150
    color rgb&lt;0.3, 0.5, 0.2&gt;
  }
</pre>

  
<center><img src="images/smplfog.gif" alt="A foggy scene"><br><font size=-1><cite>A foggy scene</cite></font></center>


  <p>According to their distance the spheres in this scene more or less vanish
  in the greenish fog we used, as does the checkerboard plane.</p>

</div>

<div class="divh4">
<a name="target_231"></a>
<h4>3.11.3.2&nbsp;&nbsp;Setting a Minimum Translucency</h4>

  <p>If you want to make sure that the background does not completely vanish in
  the fog you can set the transmittance channel of the fog's color to the
  amount of background you always want to be visible.</p><p>
   Using as transmittance value of 0.2 as in</p>
<pre>
  fog {
    distance 150
    color rgbt&lt;0.3, 0.5, 0.2, 0.2&gt;
  }
</pre>

  <p>the fog's translucency never drops below 20% as you can see in the
  resulting image (<code>fog2.pov</code>).</p>

  
<center><img src="images/bgvisfog.gif" alt="Fog with translucency threshold added"><br><font size=-1><cite>Fog with translucency threshold added</cite></font></center>


</div>

<div class="divh4">
<a name="target_232"></a>
<h4>3.11.3.3&nbsp;&nbsp;Creating a Filtering Fog</h4>

  <p>The greenish fog we have used so far doesn't filter the light passing
  through it. All it does is to diminish the light's intensity. We can
  change this by using a non-zero filter channel in the fog's color
  (<code>fog3.pov</code>).</p>
<pre>
  fog {
    distance 150
    color rgbf&lt;0.3, 0.5, 0.2, 1.0&gt;
  }
</pre>

  <p>The filter value determines the amount of light that is filtered by the
  fog. In our example 100% of the light passing through the fog will be
  filtered by the fog. If we had used a value of 0.7 only 70% of the light
  would have been filtered. The remaining 30% would have passed unfiltered.</p>

  
<center><img src="images/filtfog.gif" alt="A filtering fog"><br><font size=-1><cite>A filtering fog</cite></font></center>


  <p>You'll notice that the intensity of the objects in the fog is not only
  diminished due to the fog's color but that the colors are actually
  influenced by the fog. The red and especially the blue sphere got a green
  hue.</p>

</div>

<div class="divh4">
<a name="target_233"></a>
<h4>3.11.3.4&nbsp;&nbsp;Adding Some Turbulence to the Fog</h4>

  <p>In order to make our somewhat boring fog a little bit more interesting we
  can add some turbulence, making it look like it had a non-constant density
  (<code>fog4.pov</code>).</p>
<pre>
  fog {
    distance 150
    color rgbf&lt;0.3, 0.5, 0.2, 1.0&gt;
    turbulence 0.2
    turb_depth 0.3
  }
</pre>

  
<center><img src="images/turbfog.gif" alt="Fog made more interesting with turbulence"><br><font size=-1><cite>Fog made more interesting with turbulence</cite></font></center>


  <p>The <code>turbulence</code> keyword is used to specify the amount of
  turbulence used while the <code>turb_depth</code> value is used to move the
  point at which the turbulence value is calculated along the viewing ray.
  Values near zero move the point to the viewer while values near one move it
  to the intersection point (the default value is 0.5). This parameter can be
  used to avoid noise that may appear in the fog due to the turbulence (this
  normally happens at very far away intersection points, especially if no
  intersection occurs, i. e. the background is hit). If this happens just lower
  the <code>turb_depth</code> value until the noise vanishes.</p><p>
   You should keep in mind that the actual density of the fog does not change.
  Only the distance-based attenuation value of the fog is modified by the
  turbulence value at a point along the viewing ray.</p>

</div>

<div class="divh4">
<a name="target_234"></a>
<h4>3.11.3.5&nbsp;&nbsp;Using Ground Fog</h4>
<a name="target_235"></a>

  <p>The much more interesting and flexible fog type is the ground fog, which
  is selected with the <code><a href="povdoc_225.html#target_1214">fog_type</a></code> statement.
  It's appearance is described with the <code><a href="povdoc_225.html#target_1217">fog_offset</a></code>
  and <code><a href="povdoc_225.html#target_1217">fog_alt</a></code> keywords.
  The <code>fog_offset</code> specifies the height, i. e. y value, below which
  the fog has a constant density of one. The <code>fog_alt</code> keyword
  determines how fast the density of the fog will approach zero as one moves
  along the y axis. At a height of fog_offset+fog_alt the fog will have a
  density of 25%.</p><p>
   The following example (<code>fog5.pov</code>) uses a ground fog which has a
  constant density below y=25 (the center of the red sphere) and quickly falls
  off for increasing altitudes.</p>
<pre>
  fog {
    distance 150
    color rgbf&lt;0.3, 0.5, 0.2, 1.0&gt;
    fog_type 2
    fog_offset 25
    fog_alt 1
  }
</pre>

  
<center><img src="images/lowfog.gif" alt="An example of ground fog"><br><font size=-1><cite>An example of ground fog</cite></font></center>


</div>

<div class="divh4">
<a name="target_236"></a>
<h4>3.11.3.6&nbsp;&nbsp;Using Multiple Layers of Fog</h4>

  <p>It is possible to use several layers of fog by using more than one fog
  statement in your scene file. This is quite useful if you want to get nice
  effects using turbulent ground fogs. You could add up several, differently
  colored fogs to create an eerie scene for example.</p><p>
   Just try the following example (<code>fog6.pov</code>).</p>
<pre>
  fog {
    distance 150
    color rgb&lt;0.3, 0.5, 0.2&gt;
    fog_type 2
    fog_offset 25
    fog_alt 1
    turbulence 0.1
    turb_depth 0.2
  }
  fog {
    distance 150
    color rgb&lt;0.5, 0.1, 0.1&gt;
    fog_type 2
    fog_offset 15
    fog_alt 4
    turbulence 0.2
    turb_depth 0.2
  }
  fog {
    distance 150
    color rgb&lt;0.1, 0.1, 0.6&gt;
    fog_type 2
    fog_offset 10
    fog_alt 2
  }
</pre>

  
<center><img src="images/multifog.gif" alt="Using multiple layers of fog"><br><font size=-1><cite>Using multiple layers of fog</cite></font></center>


  <p>You can combine constant density fogs, ground fogs, filtering fogs,
  non-filtering fogs, fogs with a translucency threshold, etc.</p>

</div>

<div class="divh4">
<a name="target_237"></a>
<h4>3.11.3.7&nbsp;&nbsp;Fog and Hollow Objects</h4>

  <p>Whenever you use the fog feature and the camera is inside a non-hollow
  object you won't get any fog effects. For a detailed explanation why this
  happens see &quot;<a href="povdoc_198.html#target_984">Empty and Solid Objects</a>&quot;.</p><p>
   In order to avoid this problem you have to make all those objects hollow by
  either making sure the camera is outside these objects (using the <code><a href="povdoc_195.html#target_973">inverse</a></code>
  keyword) or by adding the <code><a href="povdoc_195.html#target_974">hollow</a></code> to them (which is much easier).</p>

</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_114.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_116.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
