<!------------------------------------------------------------------------------->
<!--              Generated by makedocs.pl version 1.0 rev 20                  -->
<!--              This file Copyright (c) POV-Team 1991-2002                   -->
<!-- You can override our stylesheet settings by placing a 'povray35.css' file -->
<!--    in the root directory of the disk volume that holds this help file.    -->
<!------------------------------------------------------------------------------->
<html>
<head>
<title>Can this problem be solved?</title>
<link rel="stylesheet" type="text/css" href="../povray35.css">
<link rel="stylesheet" type="text/css" href="file:///povray35.css">
<object id=htmlhelp type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11"></object>
<script language=javascript src="../povray35.js"></script>
</head>
<a name="target_1708"></a>
<body>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_385.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_387.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
<div class="divh3">
<h3>9.9.3&nbsp;&nbsp;Can this problem be solved?</h3>

<p>You can get rid of the lighting artifact by applying
<code>double_illuminate</code> to the object in question.
When a surface is double illuminated, it doesn't matter which way its normal
points - it will always be illuminated regardless of which side the light
source is. Of course it shouldn't matter that the object is now illuminated
from both sides. If this is a problem, then the problem is not easily
solvable.</p>

<p>Note that in the example given at the beginning of this
section
this solution does not work: It would illuminate the whole triangle with both
light sources! However, this solution works well with closed triangle meshes,
where the inner side of the mesh is shadowed by the mesh itself. However,
if you are using <code>no_shadow</code> in the object (for example to
get rid of
<a href="povdoc_378.html#target_1700">shadow line artifacts</a>),
new problems can arise in the lighting (such as bright
parts in places where there shouldn't be any; these are all cause by this
same problem).</p>

<p>The slope pattern is more problematic and there is no generic solution
which will work in all cases. Fortunately the most common use of the slope
pattern is in heightfields, and there a solution is possible:</p>

<p>If you are having this problem in a smooth heightfield, the solution is
to mirror the color_map (or whatever map you are using) around 0.5. This way
it doesn't matter if the normal is reversed. That is, if you had something
like this in a heightfield:</p>

<pre>
  slope y color_map
  { [0.50 rgb &lt;.5,.5,.5&gt;] // rock
    [0.75 rgb &lt;.8,.4,.1&gt;] // ground
    [1.00 rgb &lt;.4,1,.4&gt;] // grass
  }
</pre>

<p>you simply have to mirror the map around 0.5, ie. add the values from
0 to 0.5 in reverse order:</p>

<pre>
  slope y color_map
  { [0.00 rgb &lt;.4,1,.4&gt;] // grass
    [0.25 rgb &lt;.8,.4,.1&gt;] // ground
    [0.50 rgb &lt;.5,.5,.5&gt;] // rock
    [0.75 rgb &lt;.8,.4,.1&gt;] // ground
    [1.00 rgb &lt;.4,1,.4&gt;] // grass
  }
</pre>

<p>Besides this you should, of course, apply <code>double_illuminate</code>
to the heightfield in order to get the proper lighting.</p>



</div>
</div>

<p>
<center>
<table width=100% border=0>
<tr>
<td>
<table width=100% align="center" border=0 bgcolor="#ffcc99" class="NavBar">
<tr>
<td align="left">&lt;<a href="povdoc_385.html">Prev</a></td>
<script language="JavaScript">
<!--
if (navigator.userAgent.indexOf ("MSIE 3.") >= 1)
  document.write ("<td align=center><small><i>You are running <b>IE3</b>. This will likely cause problems with this help file.</i></small></td>") ;
else if (navigator.userAgent.indexOf ("MSIE 4.") >= 1)
  document.write ("<td align=center><small><i>The Microsoft HTML Help system works best with <b>IE5</b> or later. We recommend you upgrade.</i></small></td>") ;
//-->
</script>
<td align="right"><a href="povdoc_387.html">Next</a>&gt;</td></tr>
</table>
</td>
</tr>
</table>
</center>
</body>
</html>
